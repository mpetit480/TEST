<?xml version="1.0" encoding="UTF-8"?>
<jobp>
   <metadata>
      <row>
         <version>21.0.0</version>
      </row>
   </metadata>
   <general_attributes>
      <row>
         <minimum_ae_version>11.2</minimum_ae_version>
         <auto_deactivation>F</auto_deactivation>
         <child_flags>00000000000000000000000000000000</child_flags>
         <deactivation_condition>ANY_OK</deactivation_condition>
         <workflow_children>3</workflow_children>
         <last_runtimes>AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA</last_runtimes>
         <max_parallel_action>1</max_parallel_action>
         <mrt_time>000000</mrt_time>
         <name>PCK.AUTOMIC_VMWARE_VSPHERE.PUB.ACTION.MANAGE_LINUX_OSCUSTOMIZATIONSPEC</name>
         <has_prompts>1</has_prompts>
         <type>JOBP</type>
         <inherit_object_variables>1</inherit_object_variables>
         <inherit_output_filter>N</inherit_output_filter>
         <queue>CLIENT_QUEUE</queue>
         <description>Manage Linux OS Customization Spec</description>
         <versioning_id>-621913461</versioning_id>
      </row>
   </general_attributes>
   <documentation>
      <row>
         <Docu><![CDATA[= Action name =
PCK.AUTOMIC_VMWARE_VSPHERE.PUB.ACTION.MANAGE_LINUX_OSCUSTOMIZATIONSPEC

= General description =
This action is used to create/modify Linux os customization specification.

If Naming scheme is "Not Specified", then naming prefix should be empty.

'Naming Scheme' field detailed description: combobox has following options
* Custom - Specifies that vCenter Server will launch an external application to generate the (hostname/IP). The command line for this application must be specified in the server configuration file (vpxd.cfg) in the vpxd/name-ip-generator key. 
* Fixed - Specifies that the name is fixed. 
* Prefix - Specifies that a unique name should be generated by concatenating the base string with a number. Virtual machine names are unique across the set of hosts and virtual machines known to the vCenter Server system. vCenter Server tracks the network names of virtual machines as well as hosts. VMware Tools runs in a guest operating system and reports information to vCenter Server, including the network name of the guest. 
* Vm - Specifies that vCenter Server should generate a virtual machine name from a base prefix comprising the virtual machine entity name. A number is appended, if necessary, to make it unique. Virtual machine names are unique across the set of hosts and virtual machines known to the vCenter Server system. VMware Tools reports the names of existing virtual machines.

= Failure Conditions =
* Zero/Multiple OS customizationspec found as per the specified inputs in case of UPDATESPEC.
* If OS customizationspec is not type of 'Linux' in case of UPDATESEPC.
* If 'NamingPrefix' parameter is empty in case of NamingScheme is set to custom, fixed, or prefix. 

= Inputs =
* Server IP or DNS  			: Specify IP address or DNS name of the vSphere server to which you want to connect. E.g. www.myvcenter.com
* Username	    			: Username which will be used for this connection. E.g. domain\username
* Password	    			: Password to your username.
* Port		    			: Specify port which will be used for connection. E.g. 8080
* Protocol	    			: Specify protocol you want to use for connection. E.g. https, http
* Action  				: Specify whether if you want to create a new or update an existing OS Customization Specification. Valid values are CREATESPEC and UPDATESPEC.
* OS Customization Spec name		: Specify a name for the specification you want to create or update. E.g myLinuxSpec
* Domain				: Specify a domain name. E.g test.com
* Description 	         		: Provide description for the specification. E.g Linux os cust spec
* DNS Server 	         		: Specify the DNS server settings. Provide multiple values separated by ",". E.g 192.0.0.1,192.0.0.2
* DNS Suffix 	         		: Specify the DNS suffix settings. Provide multiple values separated by ",". E.g vSphere.local
* Naming Scheme	         		: Select the naming scheme for the virtual machine.
* Naming Prefix				: Depends on the customization naming scheme - Custom, NamingPrefix, or Prefix. If the "Custom" naming scheme is used, NamingPrefix is an optional argument that is passed to the utility for this IP address. The meaning of this field is user-defined in the script. If the "Fixed" naming scheme is used, NamingPrefix should indicate the name of the virtual machine. If the "Prefix" naming scheme is selected, NamingPrefix indicates the prefix to which a unique number is appended.
* Overwrite Agent   			: Overwrites the default agent
* Overwrite Login   			: Overwrites the default login

= Behaviour =
(none)

=Return Value=
(none)

= Outputs =
* Return code is 0 in case of success.
* Return code is 1 in case of failure.

= Logging =
Logs will be displayed in the AE report.

= Example =
(none)]]></Docu>
      </row>
   </documentation>
   <workflow_attributes>
      <row>
         <activation_at_runtime>1</activation_at_runtime>
         <reuse_agent_group>1</reuse_agent_group>
      </row>
   </workflow_attributes>
   <workflow_definitions>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>1</column>
         <line_number>1</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>START</object_name>
         <object_type><![CDATA[<START>]]></object_type>
         <row>1</row>
         <precondition_error_action>S</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <alias>MANAGE_LINUX_OS_CUST_SPEC</alias>
         <childflags>0000000000000000</childflags>
         <column>2</column>
         <line_number>2</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>PCK.AUTOMIC_VMWARE_VSPHERE.PRV.JOB.MANAGE_LINUX_OSCUSTOMIZATIONSPEC@WINDOWS</object_name>
         <object_type>JOBS</object_type>
         <predecessors>1</predecessors>
         <rollback_enabled>1</rollback_enabled>
         <row>1</row>
         <precondition_error_action>A</precondition_error_action>
      </row>
      <row>
         <active>1</active>
         <childflags>0000000000000000</childflags>
         <column>3</column>
         <line_number>3</line_number>
         <mrt_time>000000</mrt_time>
         <object_name>END</object_name>
         <object_type><![CDATA[<END>]]></object_type>
         <predecessors>1</predecessors>
         <row>1</row>
         <precondition_error_action>A</precondition_error_action>
      </row>
   </workflow_definitions>
   <line_conditions>
      <row>
         <workflow_line_number>2</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>1</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
      <row>
         <workflow_line_number>3</workflow_line_number>
         <line_number>1</line_number>
         <predecessor_line_number>2</predecessor_line_number>
         <ok_status>ANY_OK</ok_status>
      </row>
   </line_conditions>
   <prompt_set_list>
      <row>
         <line_number>1</line_number>
         <prompt_set>PCK.AUTOMIC_VMWARE_VSPHERE.PUB.PROMPTSET.CONNECTION_DETAILS</prompt_set>
         <display_order>1</display_order>
      </row>
      <row>
         <line_number>2</line_number>
         <prompt_set>PCK.AUTOMIC_VMWARE_VSPHERE.PRV.PROMPTSET.MANAGE_LINUX_OSCUSTOMIZATIONSPEC</prompt_set>
         <display_order>2</display_order>
      </row>
      <row>
         <line_number>3</line_number>
         <prompt_set>PCK.ITPA_SHARED.PRV.PROMPTSET.OVERWRITE_AGENT</prompt_set>
         <display_order>3</display_order>
      </row>
   </prompt_set_list>
   <prompt_set_defaults>
      <row>
         <alternative_view>1</alternative_view>
         <prompt_set_element_number>3</prompt_set_element_number>
         <prompt_set>PCK.ITPA_SHARED.PRV.PROMPTSET.OVERWRITE_AGENT</prompt_set>
         <value>&amp;AGENT#</value>
         <variable_name>AGENT#</variable_name>
      </row>
      <row>
         <alternative_view>1</alternative_view>
         <prompt_set_element_number>3</prompt_set_element_number>
         <prompt_set>PCK.ITPA_SHARED.PRV.PROMPTSET.OVERWRITE_AGENT</prompt_set>
         <value>&amp;LOGIN#</value>
         <variable_name>LOGIN#</variable_name>
      </row>
   </prompt_set_defaults>
   <rollback_definitions>
      <row>
      </row>
   </rollback_definitions>
</jobp>
